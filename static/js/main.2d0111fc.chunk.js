(this.webpackJsonpinternshiptask0620=this.webpackJsonpinternshiptask0620||[]).push([[0],{14:function(n,e,t){n.exports=t(24)},19:function(n,e,t){},21:function(n,e,t){},24:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(10),c=t.n(o),l=(t(19),t(4)),i=t.n(l),u=t(5),s=t(3),d=(t(21),t(1)),m=function(n){var e=n.type,t=n.children;return"data"===e?r.a.createElement("td",null,t):r.a.createElement("th",null,t)},p=function(n){var e=n.data,t=e.id,a=e.name,o=e.city,c=e.incomes;return r.a.createElement("tr",{onClick:n.onClick},"header"===n.type?n.data.map((function(e){return r.a.createElement(m,{type:n.type,key:"".concat(n.type,"_").concat(e)},e)})):r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{type:"data"},t),r.a.createElement(m,{type:"data"},a),r.a.createElement(m,{type:"data"},o),r.a.createElement(m,{type:"data"},"$".concat(c.reduce((function(n,e){return n+parseInt(e.value)}),0)))))},f=["Id","Name","City","Total Income"],b=function(){return r.a.createElement("thead",null,r.a.createElement(p,{type:"header",data:f}))},h=t(2);function g(){var n=Object(d.a)(["\n   display:flex;\n   position:absolute;\n   bottom:0;\n   right:0;\n   justify-content:flex-end;\n   align-items:center;\n   width:100%;\n   margin:5px 0;\n   button{\n      margin:0 5px;\n      cursor:pointer;\n   }\n   div{\n      margin:0 5px;\n      transition:.2s ease-in-out ;\n      cursor:pointer;\n      display:none;\n      visibility:hidden;\n      \n   }\n   .visible{\n      display:block;\n      visibility:visible;\n   }\n   .active{\n      color:royalblue;\n      border-bottom:2px solid royalblue;\n      \n   }\n   span:first-child{\n      color:royalblue;\n   }\n\n"]);return g=function(){return n},n}var y=h.a.nav(g()),E=function(n){for(var e=n.pageCount,t=n.currentPage,a=n.setCurrentPage,o=[],c=1;c<=e;c++)o.push(c);return r.a.createElement(y,null,r.a.createElement("button",{onClick:function(){return a(1)}},"\u25c4"),r.a.createElement("button",{disabled:1===t,onClick:function(){return a(t-1)}},"\u2190"),r.a.createElement("span",null,"".concat(t," of ").concat(o.length)),r.a.createElement("button",{disabled:t===o.length,onClick:function(){return a(t+1)}},"\u2192"),r.a.createElement("button",{onClick:function(){return a(o.length)}},"\u25ba"))};function v(){var n=Object(d.a)(["\n   width: 60%;\n   height:5%;\n   background:none;\n   border:2px solid royalblue;\n   margin:5px auto ;\n   :focus{\n      border-color:royalblue;\n      outline:royalblue;\n   }\n"]);return v=function(){return n},n}var x=h.a.input(v()),j=function(n){var e=n.onChange;return r.a.createElement(x,{placeholder:"Search in table...",onChange:e})};function k(){var n=Object(d.a)(["\n   display: flex;\n   position: absolute;\n   padding: 5px;\n   justify-content:flex-start;\n   align-content:center;\n   flex-direction:column;\n   width: 90%;\n   height: 90%;\n"]);return k=function(){return n},n}function w(){var n=Object(d.a)(["\n   position:relative;\n   display:block;\n   width: 1.5rem;\n   height: 1.5rem;\n   background:none;\n   border:3px solid black;\n   margin-top:1rem;\n   border-radius:50%;\n   ::before{\n      content:'';\n      width: 100%;\n      height: 20%;\n      top:50%;\n      left:50%;\n      position:absolute;\n      background-color: #fff;\n      transform-origin:0% 50%;\n      animation: "," 1s linear infinite;\n   }\n"]);return w=function(){return n},n}function O(){var n=Object(d.a)(["\nfrom{\n   transform:rotate(0deg)\n}\n   to{\n      \n      transform:rotate(360deg)\n   }\n"]);return O=function(){return n},n}function C(){var n=Object(d.a)(["\ntext-align:center;\nborder:2px solid royalblue;\nborder-collapse:collapse;\nfont-size:.7rem;\n\n\nth{\n   color:white;\n   background-color: royalblue;\n}\nth,td,tr{\n   border:2px solid royalblue;\n   border-collapse:collapse;\n   transition: .1s ease-in-out;\n   \n}\ntd{\n   cursor:pointer;\n}\ntr:hover td {\n   color:white;\n   background-color: royalblue;\n\n}\n"]);return C=function(){return n},n}var S=h.a.table(C()),I=Object(h.b)(O()),D=h.a.span(w(),I),A=h.a.section(k()),L=function(n){var e=n.companiesData,t=n.loaded,o=n.setSelectedCompany,c=Object(a.useState)(1),l=Object(s.a)(c,2),i=l[0],u=l[1],d=Object(a.useState)(window.innerWidth>1e3?25:9),m=Object(s.a)(d,2),f=m[0],h=m[1],g=Object(a.useState)(""),y=Object(s.a)(g,2),v=y[0],x=y[1],k=e.sort((function(n,e){return n.incomes.reduce((function(n,e){return n+parseInt(e.value)}),0)-e.incomes.reduce((function(n,e){return n+parseInt(e.value)}),0)})).reverse(),w=i*f,O=w-f,C=k.filter((function(n){return n.name.toLowerCase().includes(v.toLowerCase())})).slice(O,w),I=k.length/f;return window.addEventListener("resize",(function(){return window.innerWidth>1e3?h(25):h(9)})),t?r.a.createElement(A,null,r.a.createElement(j,{onChange:function(n){return x(n.target.value)}}),r.a.createElement(S,null,r.a.createElement(b,null),r.a.createElement("tbody",null,C.map((function(n,e){return r.a.createElement(p,{data:n,type:"data",key:"".concat(n.name,"_").concat(e),onClick:function(){return o(n)}})})))),r.a.createElement(E,{pageCount:I,currentPage:i,setCurrentPage:u})):r.a.createElement("h1",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",textAlign:"center"}},"Hello ",r.a.createElement("br",null),r.a.createElement(D,null),r.a.createElement("br",null)," Content is loading now... ")},P=[],$=function(){var n=Object(u.a)(i.a.mark((function n(){var e,t,a,r,o,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://recruitment.hal.skygate.io/companies");case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,P=t,a=0;case 8:if(!(a<t.length)){n.next=20;break}return n.next=11,fetch("".concat("https://recruitment.hal.skygate.io/incomes/").concat(t[a].id));case 11:return r=n.sent,n.next=14,r.json();case 14:o=n.sent,c=o.incomes,P[a].incomes=c;case 17:a++,n.next=8;break;case 20:return n.abrupt("return",P);case 21:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();function _(){var n=Object(d.a)(["\nlabel{\n   margin:5px 5px;\n}\n"]);return _=function(){return n},n}function F(){var n=Object(d.a)(["\ndisplay: flex;\njustify-content: center;\nheight: 80%;\nwidth: 100%;\ndiv{\n   width:33%;\n   display: flex;\n   flex-direction:column;\n   justify-content: flex-start;\n   align-items: center;\n   h4{\n   color:royalblue;\n   text-align:center;\n\n}\n}\n"]);return F=function(){return n},n}function M(){var n=Object(d.a)(["\n   position: relative;\n   width: 90%;\n   height: 90%;\n   top: 50%;\n   left:50%;\n   transform:translate(-50%,-50%);\n   display: flex;\n   flex-direction:column;\n   justify-content: center;\n   align-items: center;\n   h2,h3{\n      text-align:center;\n      span{\n         color:royalblue;\n      }\n   }\n"]);return M=function(){return n},n}function T(){var n=Object(d.a)(["\ncursor:pointer;\n   margin: 0;\n   padding: 0;\n   position: relative;\n   border:none;\n   width:30px;\n   height: 30px;\n   background:none;\n   top:2%;\n   left: 2%;\n   ::before,::after{\n      position:absolute;\n      left:0;\n      content:'';\n      width:100%;\n      height: 10%;\n      background-color: #000;\n      transform-origin: 1px;\n   }\n   ::before{\n      top:0;\n      transform:translateY(3.75px) rotate(45deg);\n   }\n   ::after{\n      bottom:0;\n      transform:translateY(-3.75px) rotate(-45deg);\n   }\n"]);return T=function(){return n},n}function Y(){var n=Object(d.a)(["\n   position: relative;\n   display:flex;\n   flex-direction:column;\n   top:0;\n   left: 0;\n   width:100%;\n   height: 100%;\n   background-color: white;\n   span{\n      font-weight:bold;\n   }\n   input{\n      margin: 5px 0;\n      border:none;\n      border-bottom:2px solid royalblue;\n\n   }\n   \n"]);return Y=function(){return n},n}var z=h.a.section(Y()),B=h.a.button(T()),J=h.a.article(M()),N=h.a.aside(F()),W=h.a.p(_()),H=function(n){var e=n.selectedCompany,t=n.setSelectedCompany,o=Object(a.useState)("2018-01-01"),c=Object(s.a)(o,2),l=c[0],i=c[1],u=Object(a.useState)("2020-12-31"),d=Object(s.a)(u,2),m=d[0],p=d[1],f=e.name,b=e.city,h=e.id,g=e.incomes,y=g.filter((function(n){return n.date>=l&&n.date<=m})),E=y.reduce((function(n,e){return n+parseInt(e.value)}),0),v=g.map((function(n){return n.date.match(/-12-/)?parseInt(n.value):0})).filter((function(n){return 0!==n})).reduce((function(n,e){return n+e}),0);return console.log(y.length),r.a.createElement(z,null,r.a.createElement(B,{onClick:function(){return t({})}}),r.a.createElement(J,null,r.a.createElement("h2",null,r.a.createElement("span",null,h,"."),"\xa0",f),r.a.createElement("h3",null,r.a.createElement("span",null,"Registered at:"),"\xa0",b),r.a.createElement("span",null,"Below You can change range of date used to calculate Total and Average incomes"),r.a.createElement(W,null,r.a.createElement("label",{htmlFor:"input_startDate"},"Set start date:"),r.a.createElement("input",{onChange:function(n){return i(n.target.value)},id:"input_startDate",type:"date"}),r.a.createElement("label",{htmlFor:"endDate"},"Set end date:"),r.a.createElement("input",{onChange:function(n){return p(n.target.value)},id:"endDate",type:"date"})),r.a.createElement(N,null,r.a.createElement("div",null,r.a.createElement("h4",null,"Total Income :"),r.a.createElement("span",null,"$".concat(E))),r.a.createElement("div",null,r.a.createElement("h4",null,"Average Income :"),r.a.createElement("span",null,"$".concat(parseInt(Math.round(E/y.length))))),r.a.createElement("div",null,r.a.createElement("h4",null,"Last Month Income : "),r.a.createElement("span",null,"$".concat(v))))))};var R=function(){var n=Object(a.useState)([]),e=Object(s.a)(n,2),t=e[0],o=e[1],c=Object(a.useState)(!1),l=Object(s.a)(c,2),d=l[0],m=l[1],p=Object(a.useState)({}),f=Object(s.a)(p,2),b=f[0],h=f[1];return Object(a.useEffect)((function(){(function(){var n=Object(u.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$().then((function(n){o(n),m(!0)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[]),r.a.createElement("main",{className:"App"},r.a.createElement(L,{loaded:d,companiesData:t,setSelectedCompany:h}),b.id&&r.a.createElement(H,{selectedCompany:b,setSelectedCompany:h}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.2d0111fc.chunk.js.map